<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mandated Top Society</title>

<!-- ──────────────────────────  CSS  ────────────────────────── -->
<style>
/* ── Color Scheme ─────────────────────────────────────────── */
:root{
  --bg:#fafafa;--text:#222;--accent:#5ec3ff;--header:#ffffffcc;--card:#fff;
}
body.dark{
  --bg:#1a1a1a;--text:#eee;--accent:#4fa4d9;--header:#1a1a1acc;--card:#222;
}

/* ── Reset / Base ─────────────────────────────────────────── */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;scroll-behavior:smooth;}
body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  background:var(--bg);color:var(--text);line-height:1.5;
}
img{max-width:100%;display:block}

/* ── Layout ───────────────────────────────────────────────── */
header{
  position:fixed;top:0;left:0;right:0;z-index:1000;
  display:flex;align-items:center;justify-content:space-between;
  padding:.75rem 1rem;background:var(--header);backdrop-filter:blur(6px);
}
#hamburger{font-size:1.6rem;background:none;border:none;color:var(--text);cursor:pointer}
.banner{height:40px}
#modeToggle{
  border:1px solid var(--accent);padding:.4rem .75rem;border-radius:4px;background:none;
  color:var(--accent);cursor:pointer;font-size:.9rem;
}
#modeToggle:hover,#modeToggle:focus{background:var(--accent);color:var(--bg)}

aside{
  position:fixed;top:0;left:0;height:100%;width:260px;background:var(--card);
  transform:translateX(-100%);transition:transform .3s ease;z-index:1500;
  display:flex;flex-direction:column;padding:4rem 1.25rem;gap:1.25rem;
}
aside.open{transform:translateX(0)}
aside a{color:var(--text);text-decoration:none;font-weight:500;font-size:1.1rem}
aside a:hover,aside a:focus{color:var(--accent)}

#overlay{
  position:fixed;inset:0;background:#0003;backdrop-filter:blur(2px);
  opacity:0;pointer-events:none;transition:opacity .3s;
  z-index:1400;
}
#overlay.visible{opacity:1;pointer-events:auto}

/* ── Main Sections ───────────────────────────────────────── */
main{padding-top:80px}
section{padding:3rem 1rem}
.hero{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem}
.hero h1{font-size:clamp(2rem,5vw,3rem)}
.btn{
  display:inline-block;padding:.8rem 1.6rem;border:none;border-radius:4px;
  background:var(--accent);color:var(--bg);text-decoration:none;font-weight:600;cursor:pointer;
}
.btn:hover,.btn:focus{opacity:.85}

.products-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1.25rem;max-width:1000px;margin:auto
}
.products-grid img{border:2px solid transparent;border-radius:6px;transition:transform .2s}
.products-grid img:hover{transform:scale(1.05);border-color:var(--accent)}

.instagram-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;max-width:900px;margin:auto
}
.instagram-grid a{display:block;border-radius:4px;overflow:hidden}
.instagram-grid img{width:100%;aspect-ratio:1/1;object-fit:cover;transition:transform .2s ease}
.instagram-grid img:hover{transform:scale(1.06)}

/* ── Radio Player ────────────────────────────────────────── */
#radioBar{
  position:fixed;bottom:0;left:0;right:0;display:flex;align-items:center;gap:1rem;
  background:var(--header);backdrop-filter:blur(8px);padding:.6rem 1rem;font-size:1rem;z-index:1000;
}
#radioBar button{
  border:none;background:none;color:var(--text);font-size:1.3rem;cursor:pointer;padding:.2rem .5rem;
}
#trackInfo{flex:1;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
#volume{width:100px}

/* ── Floating Hats ───────────────────────────────────────── */
@keyframes drift{0%{transform:translateX(0) translateY(0) rotate(0deg)}
100%{transform:translateX(-110vw) translateY(20vh) rotate(360deg)}}
.floating-hat{
  position:fixed;top:-10vh;left:100vw;width:120px;opacity:.9;
  animation:drift linear forwards 40s;
}
/* Bobbing overlay */
@keyframes bob{0%,100%{transform:translateY(-3%)}50%{transform:translateY(3%)}}
.floating-hat img{width:100%;animation:bob 3s ease-in-out infinite}

/* ── Accessibility / States ─────────────────────────────── */
button:focus-visible, a:focus-visible, input:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
</style>
</head>
<body>
<!-- ──────────────────────────  Header  ────────────────────────── -->
<header>
  <button id="hamburger" aria-label="Menu">☰</button>
  <img src="/images/banner.jpg" alt="Mandated Top Society banner" class="banner">
  <button id="modeToggle">Hungover Mode</button>
</header>

<!-- ──────────────────────────  Sidebar  ───────────────────────── -->
<aside id="sidebar" aria-hidden="true">
  <a href="https://mandatedtopsociety.com">Home</a>
  <a href="https://mandatedtopsociety.com/products">Products</a>
  <a href="https://mandatedtopsociety.com/tryon">Try On</a>
  <a href="https://mandatedtopsociety.com/radio">MTS Radio</a>
  <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">Instagram</a>
</aside>
<div id="overlay"></div>

<!-- ──────────────────────────  Main  ──────────────────────────── -->
<main>
  <!-- Hero -->
  <section class="hero">
    <h1>Welcome to the Mandated Top Society!</h1>
    <p>Buckets, banter &amp; endless summer vibes.</p>
    <a class="btn" href="https://mandatedtopsociety.com/tryon">Try On Our Hats</a>
  </section>

  <!-- Products -->
  <section id="products">
    <h2>Products</h2><br>
    <div class="products-grid">
      <img src="/images/white.png"  alt="White bucket hat">
      <img src="/images/pink.png"   alt="Pink bucket hat">
      <img src="/images/blue.png"   alt="Blue bucket hat">
      <img src="/images/green.png"  alt="Green bucket hat">
      <img src="/images/red.png"    alt="Red bucket hat">
    </div><br>
    <a class="btn" href="https://mandatedtopsociety.com/tryon">Try On Our Hats</a>
  </section>

  <!-- Instagram -->
  <section id="instagram">
    <h2>From the ’Gram</h2><br>
    <div class="instagram-grid" id="instaGrid">
      <!-- Fallback thumbnails; replace with real embeds if desired -->
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta1.jpg" alt="Instagram post 1">
      </a>
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta2.jpg" alt="Instagram post 2">
      </a>
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta3.jpg" alt="Instagram post 3">
      </a>
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta4.jpg" alt="Instagram post 4">
      </a>
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta5.jpg" alt="Instagram post 5">
      </a>
      <a href="https://instagram.com/mandatedtopsociety" target="_blank" rel="noopener">
        <img src="/images/insta6.jpg" alt="Instagram post 6">
      </a>
    </div>
  </section>
</main>

<!-- ──────────────────────────  Radio Player  ──────────────────── -->
<div id="radioBar">
  <button id="prev" aria-label="Previous track">◀︎</button>
  <button id="playPause" aria-label="Play">▶︎</button>
  <button id="next" aria-label="Next track">▶︎</button>
  <span id="trackInfo">Not playing</span>
  <input type="range" id="volume" min="0" max="1" step="0.01" aria-label="Volume">
</div>

<!-- ──────────────────────────  Scripts  ───────────────────────── -->
<script>
(()=>{ 'use strict';
/* ── Elements ─────────────────────────────────────────────── */
const body=document.body, sidebar=$('#sidebar'), overlay=$('#overlay'),
      hamb=$('#hamburger'), toggle=$('#modeToggle');
/* ── Helpers ──────────────────────────────────────────────── */
function $(q){return document.querySelector(q)}
function openSidebar(){sidebar.classList.add('open');overlay.classList.add('visible');sidebar.setAttribute('aria-hidden','false')}
function closeSidebar(){sidebar.classList.remove('open');overlay.classList.remove('visible');sidebar.setAttribute('aria-hidden','true')}

/* ── Sidebar Logic ────────────────────────────────────────── */
hamb.addEventListener('click',openSidebar);
overlay.addEventListener('click',closeSidebar);
sidebar.addEventListener('click',e=>{if(e.target.tagName==='A')closeSidebar()});
/* Touch swipe to close (left→right to open from edge, right→left to close) */
let startX=null;
window.addEventListener('touchstart',e=>{startX=e.touches[0].clientX});
window.addEventListener('touchmove',e=>{
  if(startX===null)return;
  const dx=e.touches[0].clientX-startX;
  if(!sidebar.classList.contains('open')&&startX<30&&dx>50)openSidebar();
  if(sidebar.classList.contains('open')&&dx<-50)closeSidebar();
});
window.addEventListener('touchend',()=>startX=null);

/* ── Theme Toggle ─────────────────────────────────────────── */
const THEME_KEY='mts-theme';
function setTheme(dark){body.classList.toggle('dark',dark);localStorage.setItem(THEME_KEY,dark?'dark':'light')}
toggle.addEventListener('click',()=>setTheme(!body.classList.contains('dark')));
setTheme(localStorage.getItem(THEME_KEY)==='dark');

/* ── Radio Player ─────────────────────────────────────────── */
const playlist=[
  {src:'/music/track1.mp3',artist:'Flip Flop',title:'Beach Run'},
  {src:'/music/track2.mp3',artist:'Sunburn',title:'Dusty Sunday'},
  {src:'/music/track3.mp3',artist:'Cooler Crew',title:'Ice Cold'}
];
let idx=Math.floor(Math.random()*playlist.length), playing=false;
const audio=new Audio(); audio.preload='none'; audio.volume=0.5;
$('#volume').value=audio.volume;
const updateInfo=()=>$('#trackInfo').textContent=`${playlist[idx].artist} – ${playlist[idx].title}`;
function loadTrack(){audio.src=playlist[idx].src;updateInfo();}
function play(){if(!playing){audio.play();playing=true;$('#playPause').textContent='❚❚';}}
function pause(){audio.pause();playing=false;$('#playPause').textContent='▶︎';}
$('#playPause').addEventListener('click',()=>{playing?pause():(!audio.src&&loadTrack(),play())});
$('#next').addEventListener('click',()=>{idx=(idx+1)%playlist.length;loadTrack();play()});
$('#prev').addEventListener('click',()=>{idx=(idx-1+playlist.length)%playlist.length;loadTrack();play()});
audio.addEventListener('ended',()=>$('#next').click());
$('#volume').addEventListener('input',e=>audio.volume=e.target.value);

/* ── Floating Hats ────────────────────────────────────────── */
const hatImgs=['white','pink','blue','green','red'].map(c=>`/images/${c}.png`);
function spawnHat(){
  const wrap=document.createElement('div');wrap.className='floating-hat';
  const img=document.createElement('img');img.src=hatImgs[Math.floor(Math.random()*hatImgs.length)];
  wrap.style.top=Math.random()*80+'vh';wrap.appendChild(img);document.body.appendChild(wrap);
  wrap.addEventListener('animationend',()=>wrap.remove());
  scheduleHat();
}
function scheduleHat(){
  setTimeout(spawnHat,Math.random()*15000+30000); // 30‑45 s
}
scheduleHat();
})();
</script>
</body>
</html>